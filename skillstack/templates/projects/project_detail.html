{% extends 'base.html' %}

{% block title %}{{ project.title }}{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="card shadow-lg border-0">
    <div class="card-body">
      <h2 class="card-title text-primary fw-bold">{{ project.title }}</h2>
      <hr>
      <p><strong class="text-muted">Description:</strong><br> {{ project.description }}</p>

      <div class="row mt-4">
        <div class="col-md-6">
          <p><strong class="text-muted">Status:</strong>
            {% if project.status == 'completed' %}
              <span class="badge bg-success">Completed</span>
            {% elif project.status == 'ongoing' %}
              <span class="badge bg-warning text-dark">Ongoing</span>
            {% else %}
              <span class="badge bg-danger">Paused</span>
            {% endif %}
          </p>
          <p><strong class="text-muted">Start Date:</strong> {{ project.start_date }}</p>
          <p><strong class="text-muted">End Date:</strong> {{ project.end_date }}</p>
        </div>
        <div class="col-md-6">
          <p><strong class="text-muted">Category:</strong> {{ project.category }}</p>
          <p><strong class="text-muted">Owner:</strong> {{ project.owner.username }}</p>
          {% if project.collaborators.all %}
  <p><strong class="text-muted">Collaborators:</strong>
    {% for user in project.collaborators.all %}
      <span class="badge bg-secondary">{{ user.username }}</span>{% if not forloop.last %}, {% endif %}
    {% endfor %}
  </p>
{% if user == project.owner %}
  <form method="POST" action="{% url 'delete_project' project.pk %}" style="display:inline;">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this project?');">
      Delete Project
    </button>
  </form>
{% endif %}
        </div>
      </div>
    </div>
    <div class="card-footer bg-transparent border-top-0 d-flex justify-content-end">
      <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary">‚Üê Back to Dashboard</a>
    </div>
  </div>
</div>
{% endblock %}