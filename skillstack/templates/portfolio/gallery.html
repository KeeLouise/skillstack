{% extends "base.html" %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/portfolio.css' %}">
{% endblock %}

{% block title %}My Portfolio{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">My Portfolio</h2>
    <a href="{% url 'portfolio:portfolio_create' %}" class="btn btn-dark">+ Add Link</a>
  </div>

  {% for item in links %}
  <a class="portfolio-card" href="{{ item.url }}" target="_blank" rel="noopener noreferrer">
    <div class="portfolio-thumb">
      <img loading="lazy" src="{{ item.display_image }}" alt="{{ item.title|default:'Preview' }}">
    </div>
    <div class="portfolio-info">
      <div class="title text-truncate">{{ item.title|default:item.url }}</div>
      <div class="url text-muted text-truncate">{{ item.url }}</div>
    </div>
  </a>
  <form method="post" action="{% url 'portfolio:portfolio_delete' item.slug %}" class="mt-2">
    {% csrf_token %}
    <button type="submit" class="btn btn-sm btn-outline-danger">Remove</button>
  </form>
{% endfor %}
</div>
{% endblock %}