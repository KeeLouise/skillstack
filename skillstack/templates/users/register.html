{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Register{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'css/login_register.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h2 class="mb-4 text-center">Create an Account</h2>

      {# Put the URL on the form, not inside the opening tag as stray attributes #}
      <form id="registerForm" method="post" data-check-username-url="{% url 'users:check_username' %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary w-100">Register</button>
      </form>

      <p class="mt-3 text-center">
        Already have an account? <a href="{% url 'users:login' %}">Log in</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
  <script src="{% static 'js/user_form_validate.js' %}"></script>
{% endblock %}